<button type="button" class="close" aria-label="Close" (click)="closeModal()">
  <span aria-hidden="true">&times;</span>
</button>

<div class="chat-container">
  <div class="message-list">
    <div class="message" *ngFor="let message of messages">
      <div class="send" id="messages">
        <!-- <pre>{{ message | json }}</pre> -->
        <div *ngIf="message?.sender?.id_user === currentUser.id" class="my-message">
          <div class="name">{{ message.sender.username }}</div>
          <div>
            {{ message.message }}
           
             <p class="time">{{ message.date | date : "HH:mm dd/MM/yyyy" }}</p>
          </div>

          <br />
        </div>
      </div>
      <div class="receive">
        <div
          *ngIf="message?.sender?.id_user!== currentUser.id"
          class="other-message"
        >
          <div class="name">{{ message.sender.username }}</div>
          <div>
            {{ message.message }}
           <p class="time">{{message.date | date : "HH:mm dd/MM/yyyy "}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <form
    [formGroup]="messageForm"
    (ngSubmit)="sendMessage()"
  >
    <input
      type="text"
      formControlName="newMessage"
      placeholder="Type a message..."
      id="message"
    />
    <button type="submit" >Envoyer</button>
  </form>
</div>