<app-nav-bar-connexion-inscription></app-nav-bar-connexion-inscription>
<div class="page_form">
  <div class="img_class">
    <img
      id="photo"
      src="../../../assets/chien-embrasse-par-couple.jpg"
      alt="photo d'un couple qui embrasse simultanément un chien"
    />
  </div>

  <div class="d-flex justify-content-center">
    <div class="col-md-6 col-sm-12 form_group p-3 mb-5 rounded">
      <form [formGroup]="addUser" (ngSubmit)="onSubmit()" class="formcontainer">
        <h1>Inscription</h1>
        <div class="icon">
          <i class="fas fa-user-circle"></i>
        </div>
        <div class="container">
          <input
            formControlName="firstname"
            class="form-control shadow"
            id="inputFirstName"
            placeholder="Prénom"
            [ngClass]="{
              'is-invalid':
                addUser.get('firstname')?.touched &&
                addUser.get('firstname')?.invalid
            }"
          />
          <div
            *ngIf="
              addUser.get('firstname')?.touched &&
              addUser.get('firstname')?.invalid
            "
            class="invalid-feedback"
          >
            Le prénom est requis.
          </div>

          <input
            formControlName="username"
            class="form-control shadow"
            id="inputLastName"
            placeholder="Pseudo"
            [ngClass]="{
              'is-invalid':
                addUser.get('username')?.touched &&
                addUser.get('username')?.invalid
            }"
          />
          <div
            *ngIf="
              addUser.get('username')?.touched &&
              addUser.get('username')?.invalid
            "
            class="invalid-feedback"
          >
            Le pseudo est requis.
          </div>

          <input
            formControlName="email"
            type="email"
            class="form-control shadow"
            id="inputEmail"
            placeholder=" E-mail"
            pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
            [ngClass]="{
              'is-invalid':
                addUser.get('email')?.touched && addUser.get('email')?.invalid
            }"
          />
          <div
            *ngIf="
              addUser.get('email')?.touched && addUser.get('email')?.invalid
            "
            class="invalid-feedback"
          >
            Format d'adresse e-mail invalide.
          </div>

          <input
            formControlName="password"
            type="password"
            class="form-control shadow"
            id="exampleInputPassword1"
            placeholder="Mot de Passe"
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$"
            [ngClass]="{
              'is-invalid':
                addUser.get('password')?.touched &&
                addUser.get('password')?.invalid
            }"
          />
          <div
            *ngIf="
              addUser.get('password')?.touched &&
              addUser.get('password')?.invalid
            "
            class="invalid-feedback"
          >
            Le mot de passe doit contenir au moins 8 caractères, une majuscule,
            une minuscule et un chiffre.
          </div>

          <div class="d-flex flex-row m-0 align-items-center">
            <input
              formControlName="departement"
              type="text"
              class="form-control shadow"
              id="inputDepartment"
              placeholder="Département"
              pattern="^(0[1-9]|[1-8][0-9]|9[0-5]|97[1-8]|98[46789])$"
              [ngClass]="{
                'is-invalid':
                  addUser.get('departement')?.touched &&
                  addUser.get('departement')?.invalid
              }"
            />
            <div
              *ngIf="
                addUser.get('departement')?.touched &&
                addUser.get('departement')?.invalid
              "
              class="invalid-feedback"
            >
              Entrez un numéro de département français valide, 20 pour la Corse.
            </div>

            <select
              name="id_gender_user"
              id="id_gender_user"
              class="form-control shadow"
              formControlName="id_gender_user"
            >
              <option value="">Sélectionnez votre sexe</option>
              <option
                *ngFor="let gender of genders"
                value="{{ gender.id_gender_user }}"
              >
                {{ gender.gender }}
              </option>
            </select>
          </div>
          <input
            formControlName="city"
            type="text"
            class="form-control shadow"
            id="inputCity"
            placeholder="Ville"
            [ngClass]="{
              'is-invalid':
                addUser.get('city')?.touched && addUser.get('city')?.invalid
            }"
          />
          <div
            *ngIf="addUser.get('city')?.touched && addUser.get('city')?.invalid"
            class="invalid-feedback"
          >
            La ville est requise.
          </div>

          <input
            formControlName="id_photo"
            type="file"
            (change)="onChange($event)"
            class="form-control shadow"
            id="inputPhoto"
          />

          <textarea
            formControlName="description"
            class="form-control shadow mytext"
            rows="3"
            id="inputDescription"
            placeholder="Description"
          ></textarea>
        </div>
        <div class="btn_signin">
          <button
            type="submit"
            class="btn shadow-lg validbtn"
            [disabled]="addUser.invalid"
          >
            <strong>s'inscrire</strong>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
